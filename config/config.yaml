# Main Configuration File for InsightFace Buffalo_L Finetuning

# Project Paths
paths:
  data_root: 'data/raw/IMFDB FR dataset/IMFDB FR dataset'
  processed_data: 'data/processed'
  checkpoint_dir: 'models/checkpoints'
  final_model_dir: 'models/final'
  log_dir: 'logs'
  results_dir: 'results'

# Dataset Configuration
dataset:
  name: 'indian_celebrities'
  train_split: 0.8
  val_split: 0.1
  test_split: 0.1
  min_images_per_identity: 5
  image_size: [112, 112]
  augmentation:
    enabled: true
    random_flip: true
    color_jitter: true
    random_rotation: 10
    random_crop: true

# Training Configuration
training:
  batch_size: 64
  num_epochs: 100
  learning_rate: 0.0001
  weight_decay: 0.0005
  optimizer: 'adam'
  scheduler:
    type: 'cosine'
    warmup_epochs: 5
    min_lr: 0.000001
  gradient_clip: 1.0
  mixed_precision: true
  num_workers: 8
  pin_memory: true
  
# Model Configuration
model:
  name: 'buffalo_l'
  embedding_size: 512
  freeze_backbone: false
  freeze_epochs: 5  # Freeze backbone for first N epochs
  dropout: 0.0
  
# Loss Configuration
loss:
  type: 'arcface'  # arcface, cosface, or combined
  scale: 64.0
  margin: 0.5
  easy_margin: false
  
# Validation Configuration
validation:
  frequency: 1  # Validate every N epochs
  save_best_only: true
  metric: 'accuracy'  # accuracy, loss
  
# Logging Configuration
logging:
  level: 'INFO'  # DEBUG, INFO, WARNING, ERROR
  console: true
  file: true
  tensorboard: true
  log_interval: 10  # Log every N batches
  
# Hardware Configuration
hardware:
  device: 'cuda'  # cuda, cpu
  gpu_id: 0
  benchmark: true  # Use cudnn benchmark for faster training

